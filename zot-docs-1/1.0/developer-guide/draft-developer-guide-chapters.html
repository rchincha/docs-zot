<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zot Developer Guide :: Zot Docs</title>
    <meta name="generator" content="Antora 3.0.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">Zot Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="zot-docs-1" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="draft-developer-guide-chapters.html">Zot-Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="draft-developer-guide-chapters.html">Zot Developer Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../admin-guide/admin-guide.html">Zot Registry Administrator Guide</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Zot-Documentation</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="draft-developer-guide-chapters.html">Zot-Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="draft-developer-guide-chapters.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="draft-developer-guide-chapters.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="draft-developer-guide-chapters.html">Zot-Documentation</a></li>
    <li><a href="draft-developer-guide-chapters.html">Zot Developer Guide</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/project-zot/docs-zot/edit/main/modules/developer-guide/pages/draft-developer-guide-chapters.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Zot Developer Guide</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_getting_started">Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_supported_developer_platforms">Supported Developer Platforms</a></li>
<li><a href="#_prerequisites">Prerequisites</a></li>
<li><a href="#_cloning_zot">Cloning zot</a></li>
<li><a href="#_building_zot">Building zot</a></li>
<li><a href="#_running_zot">Running zot</a></li>
</ul>
</li>
<li><a href="#_code_organization">Code Organization</a></li>
<li><a href="#_contributor_guidelines">Contributor Guidelines</a>
<ul class="sectlevel2">
<li><a href="#_license">License</a></li>
<li><a href="#_developer_certificate_of_origin_dco">Developer Certificate of Origin (DCO)</a></li>
<li><a href="#_submitting_a_pull_request_pr">Submitting a Pull Request (PR)</a></li>
<li><a href="#_pr_requirements">PR Requirements</a></li>
<li><a href="#_cicd_checks">CI/CD Checks</a></li>
</ul>
</li>
<li><a href="#_reporting_issues">Reporting Issues</a>
<ul class="sectlevel2">
<li><a href="#_filing_an_issue">Filing an Issue</a></li>
<li><a href="#_security_issues">Security Issues</a></li>
</ul>
</li>
<li><a href="#_code_of_conduct">Code of Conduct</a>
<ul class="sectlevel2">
<li><a href="#_cncf_community_code_of_conduct_v1_1">CNCF Community Code of Conduct v1.1</a></li>
<li><a href="#_scope">Scope</a></li>
<li><a href="#_our_standards">Our Standards</a></li>
<li><a href="#_reporting">Reporting</a></li>
<li><a href="#_enforcement">Enforcement</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a></li>
<li><a href="#_reporting_2">Reporting</a></li>
</ul>
</li>
<li><a href="#_notices">Notices</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting Started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_supported_developer_platforms"><a class="anchor" href="#_supported_developer_platforms"></a>Supported Developer Platforms</h3>
<div class="paragraph">
<p>Development is officially supported on <code>Linux</code> and <code>Apple MacOS</code> platforms. However,
development should be possible on any platform that supports the <code>golang</code> toolchain.</p>
</div>
</div>
<div class="sect2">
<h3 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h3>
<div class="sect3">
<h4 id="_install_golang_1_17"><a class="anchor" href="#_install_golang_1_17"></a>Install golang (1.17+)</h4>
<div class="paragraph">
<p>The zot project requires <code>golang 1.17</code> or newer. You can follow
<a href="https://go.dev/learn/">these instructions</a> to install the <code>golang</code> toolchain.  After
installation, make sure that the <code>path</code> environment variable or your IDE can find
the toolchain.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cloning_zot"><a class="anchor" href="#_cloning_zot"></a>Cloning zot</h3>
<div class="paragraph">
<p>The zot registry code base is hosted on GitHub at <a href="https://github.com/project-zot/zot">https://github.com/project-zot/zot</a>.</p>
</div>
<div class="paragraph">
<p>To clone the zot project, use this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git clone https://github.com/project-zot/zot.git</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_building_zot"><a class="anchor" href="#_building_zot"></a>Building zot</h3>
<div class="paragraph">
<p>To build zot, execute the <code>make</code> command in the zot directory using the
following general syntax:</p>
</div>
<div class="paragraph">
<p><code>$ make OS=<em>os</em> ARCH=<em>architecture</em> {binary | binary-minimal}</code></p>
</div>
<div class="paragraph">
<p>The <code>binary</code> option builds the full zot binary with all extensions.<br>
The <code>binary-minimal</code> option builds the minimal zot binary without extensions.</p>
</div>
<div class="sect3">
<h4 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h4>
<div class="paragraph">
<p>The following are examples of the <code>make</code> command for several supported platforms
and architectures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linux/Intel-based platforms</p>
<div class="listingblock">
<div class="content">
<pre>$ make OS=linux ARCH=amd64 binary</pre>
</div>
</div>
</li>
<li>
<p>Linux/amd64 platform</p>
<div class="listingblock">
<div class="content">
<pre>$ make OS=linux ARCH=amd64 binary</pre>
</div>
</div>
</li>
<li>
<p>Linux/ARM64-based platforms such as ARM64 servers and Raspberry Pi4</p>
<div class="listingblock">
<div class="content">
<pre>$ make OS=linux ARCH=arm64 binary</pre>
</div>
</div>
</li>
<li>
<p>Apple MacOS/Intel-based platforms</p>
<div class="listingblock">
<div class="content">
<pre>$ make OS=darwin ARCH=amd64 binary</pre>
</div>
</div>
</li>
<li>
<p>Apple MacOS/ARM64-based platforms</p>
<div class="listingblock">
<div class="content">
<pre>$ make OS=darwin ARCH=arm64 binary</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_running_zot"><a class="anchor" href="#_running_zot"></a>Running zot</h3>
<div class="paragraph">
<p>The behavior of zot is controlled via configuration only.
To launch the zot server, execute the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$  bin/zot-linux-amd64 serve examples/config-example.json</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_code_organization"><a class="anchor" href="#_code_organization"></a>Code Organization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>zot</code> project codebase is organized as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/
- pkg/              # Source code for all libraries
  - api/            # Source code for HTTP APIs
    - config/       # Global configuration model
  - storage/        # Source code for storage backends
  - cli/            # Source code for command line interface (cli)
  - common/         # Source code for common utility routines
  - compliance/     # Source code for dist-spec conformance tests
  - log/            # Source code for logging framework
  - test/           # Internal test scripts/data
  - extensions/     # Source code for all extensions
    - config/
    - sync/
    - monitoring/
    - sync/
  - exporter/       # Source code for metrics exporter
- cmd/              # Source code for binary main()s
  - zot/            # Source code for zot binary
  - zli/            # Source code for zot cli
  - zb/             # Source code for zb which is the dist-spec benchmarking tool
- errors/           # Source code for error codes
- examples/         # Configuration examples
- swagger/          # Swagger integration
- docs/             # Documentation</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contributor_guidelines"><a class="anchor" href="#_contributor_guidelines"></a>Contributor Guidelines</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_license"><a class="anchor" href="#_license"></a>License</h3>
<div class="paragraph">
<p>zot is released under the
<a href="https://github.com/project-zot/zot/blob/main/LICENSE">Apache License 2.0</a>.
All contributions must adhere to this license.</p>
</div>
</div>
<div class="sect2">
<h3 id="_developer_certificate_of_origin_dco"><a class="anchor" href="#_developer_certificate_of_origin_dco"></a>Developer Certificate of Origin (DCO)</h3>
<div class="paragraph">
<p>All commits require a Developer Certificate of Origin via the "Signed-off-by:"
commit message and commit signatures using GPG keys.</p>
</div>
</div>
<div class="sect2">
<h3 id="_submitting_a_pull_request_pr"><a class="anchor" href="#_submitting_a_pull_request_pr"></a>Submitting a Pull Request (PR)</h3>
<div class="paragraph">
<p>First, fork the zot project on GitHub and submit a commit to your fork.
Then open a new pull request (PR) to the zot project.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pr_requirements"><a class="anchor" href="#_pr_requirements"></a>PR Requirements</h3>
<div class="paragraph">
<p>Any new PR requires a form to be filled out with details about the PR.
Appropriate code owners are automatically identified, and they will be notified
of the new PR.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cicd_checks"><a class="anchor" href="#_cicd_checks"></a>CI/CD Checks</h3>
<div class="paragraph">
<p>We take code quality very very seriously. All PRs must pass various CI/CD
checks which cover enforce code quality such as code coverage, security
scanning, performance regressions, distribution spec conformance, ecosystem
client tool compatibility, etc.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reporting_issues"><a class="anchor" href="#_reporting_issues"></a>Reporting Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Issues are broadly classified as functional bugs and security issues. The
latter is treated a little differently due to the sensitive nature.</p>
</div>
<div class="sect2">
<h3 id="_filing_an_issue"><a class="anchor" href="#_filing_an_issue"></a>Filing an Issue</h3>
<div class="paragraph">
<p>No software is perfect, and we expect users to find issues with the zot code
base. First, check whether your issue has already been filed by someone else by doing an
<a href="https://github.com/project-zot/zot/issues">issue search</a>. If the issue not found,
file a new issue by clicking the <strong>New issue</strong> button on the <strong>zot/issues</strong> page
and answering the questions. The more information that you can provide, the
easier it becomes to triage the issue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_security_issues"><a class="anchor" href="#_security_issues"></a>Security Issues</h3>
<div class="paragraph">
<p>Security issues are best filed by sending an email to <code>security@zotregistry.io.</code>
After 45 days, we will make the issue public and give credit to the original
filer of the issue.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_code_of_conduct"><a class="anchor" href="#_code_of_conduct"></a>Code of Conduct</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The zot project follows the
<a href="https://github.com/cncf/foundation/blob/main/code-of-conduct.md">CNCF Code of Conduct</a>.</p>
</div>
<div class="sect2">
<h3 id="_cncf_community_code_of_conduct_v1_1"><a class="anchor" href="#_cncf_community_code_of_conduct_v1_1"></a>CNCF Community Code of Conduct v1.1</h3>
<div class="paragraph">
<p>Other languages available: -</p>
</div>
<div class="sect3">
<h4 id="_contributor_code_of_conduct"><a class="anchor" href="#_contributor_code_of_conduct"></a>Contributor Code of Conduct</h4>
<div class="paragraph">
<p>As contributors and maintainers in the CNCF community, and in the
interest of fostering an open and welcoming community, we pledge to
respect all people who contribute through reporting issues, posting
feature requests, updating documentation, submitting pull requests or
patches, and other activities.</p>
</div>
<div class="paragraph">
<p>We are committed to making participation in the CNCF community a
harassment-free experience for everyone, regardless of level of
experience, gender, gender identity and expression, sexual orientation,
disability, personal appearance, body size, race, ethnicity, age,
religion, or nationality.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scope"><a class="anchor" href="#_scope"></a>Scope</h3>
<div class="paragraph">
<p>This code of conduct applies both within project spaces and in public
spaces when an individual is representing the project or its community.</p>
</div>
<div class="sect3">
<h4 id="_cncf_events"><a class="anchor" href="#_cncf_events"></a>CNCF Events</h4>
<div class="paragraph">
<p>CNCF events, or events run by the Linux Foundation with professional
events staff, are governed by the Linux Foundation <a href="https://events.linuxfoundation.org/code-of-conduct/">Events Code of
Conduct</a> available
on the event page. This is designed to be used iconjunction with the
CNCF Code of Conduct.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_our_standards"><a class="anchor" href="#_our_standards"></a>Our Standards</h3>
<div class="paragraph">
<p>Examples of behavior that contributes to a positive environment include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Demonstrating empathy and kindness toward other people</p>
</li>
<li>
<p>Being respectful of differing opinions, viewpoints, and experiences</p>
</li>
<li>
<p>Giving and gracefully accepting constructive feedback</p>
</li>
<li>
<p>Accepting responsibility and apologizing to those affected by our
mistakes, and learning from the experience</p>
</li>
<li>
<p>Focusing on what is best not just for us as individuals, but for the
overall community</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples of unacceptable behavior include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The use of sexualized language or imagery, and sexual attention or
advances of any kind</p>
</li>
<li>
<p>Trolling, insulting or derogatory comments, and personal or
political attacks</p>
</li>
<li>
<p>Public or private harassment</p>
</li>
<li>
<p>Publishing others&#8217; private information, such as a physical or email
address, without their explicit permission</p>
</li>
<li>
<p>Other conduct which could reasonably be considered inappropriate in
a professional setting</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Project maintainers have the right and responsibility to remove, edit,
or reject comments, commits, code, wiki edits, issues, and other
contributions that are not aligned to this Code of Conduct. By adopting
this Code of Conduct, project maintainers commit themselves to fairly
and consistently applying these principles to every aspect of managing
this project. Project maintainers who do not follow or enforce the Code
of Conduct may be permanently removed from the project team.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reporting"><a class="anchor" href="#_reporting"></a>Reporting</h3>
<div class="paragraph">
<p>For incidents occuring in the Kubernetes community, contact the
<a href="https://git.k8s.io/community/committee-code-of-conduct">Kubernetes Code of Conduct
Committee</a> via
<a href="mailto:conduct@kubernetes.io">conduct@kubernetes.io</a>. You can expect a response within three business
days.</p>
</div>
<div class="paragraph">
<p>For other projects, please contact the CNCF staff via <a href="mailto:conduct@cncf.io">conduct@cncf.io</a>.
You can expect a response within three business days.</p>
</div>
<div class="paragraph">
<p>In matters that require an outside mediator, CNCF has retained Mishi
Choudhary (mishi\@linux.com). Use of an outside mediator can be
requested when reporting or used at CNCF staff&#8217;s discretion. In general,
contacting <a href="mailto:conduct@cncf.io">conduct@cncf.io</a> directly is preferred.</p>
</div>
</div>
<div class="sect2">
<h3 id="_enforcement"><a class="anchor" href="#_enforcement"></a>Enforcement</h3>
<div class="paragraph">
<p>The Kubernetes project&#8217;s <a href="https://github.com/kubernetes/community/tree/master/committee-code-of-conduct">Code of Conduct
Committee</a>
enforces code of conduct issues. For all other projects, the CNCF
enforces code of conduct issues.</p>
</div>
<div class="paragraph">
<p>Both bodies try to resolve incidents without punishment, but may remove
people from the project or CNCF communities at their discretion.</p>
</div>
</div>
<div class="sect2">
<h3 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h3>
<div class="paragraph">
<p>This Code of Conduct is adapted from the Contributor Covenant
(<a href="http://contributor-covenant.org" class="bare">http://contributor-covenant.org</a>), version 2.0 available at
<a href="http://contributor-covenant.org/version/2/0/code_of_conduct/" class="bare">http://contributor-covenant.org/version/2/0/code_of_conduct/</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_reporting_2"><a class="anchor" href="#_reporting_2"></a>Reporting</h3>
<div class="paragraph">
<p>For incidents occurring on the zot project, contact the zot project conduct
committee at <code>conduct@zotproject.io.</code> You can expect a response within three
business days.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notices"><a class="anchor" href="#_notices"></a>Notices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The documentation set for this product strives to use bias-free language. For the
purposes of this documentation set, bias-free is defined as language that does
not imply discrimination based on age, disability, gender, racial identity, ethnic
identity, sexual orientation, socioeconomic status, and intersectionality.
Exceptions may be present in the documentation due to language that is hardcoded
in the user interfaces of the product software, language used based on RFP
documentation, or language that is used by a referenced third-party product.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
